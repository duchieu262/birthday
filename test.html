<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Autoplay Workaround</title>
</head>
<body>
  <h2>Autoplay Workaround Demo</h2>
  <p>Music will try to play automatically. If blocked, it will play after your first click or keypress.</p>

  <audio id="bgMusic" loop>
    <source src="Crooked.mp3" type="audio/mpeg">
  </audio>

  <script>
    const audio = document.getElementById("bgMusic");

    // Try autoplay immediately
    audio.play().then(() => {
      console.log("Autoplay succeeded!");
    }).catch(() => {
      console.log("Autoplay blocked. Waiting for user interaction...");

      // Add listeners for any user interaction
      const resumeAudio = () => {
        audio.play();
        console.log("Audio resumed after user interaction");
        document.removeEventListener("click", resumeAudio);
        document.removeEventListener("keydown", resumeAudio);
        document.removeEventListener("scroll", resumeAudio);
      };

      document.addEventListener("click", resumeAudio);
      document.addEventListener("keydown", resumeAudio);
      document.addEventListener("scroll", resumeAudio);
    });
  </script>
</body>
</html>
